{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kevin\\\\Documents\\\\Projects\\\\CAPSTONE-CLIENT-COPY\\\\src\\\\Profile.js\";\nimport React from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link, Redirect } from \"react-router-dom\";\nimport AddRecommendation from \"./AddRecommendation\";\nimport RestaurantListing from \"./RestaurantListing\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.addRecommendation = this.addRecommendation.bind(this);\n    this.addBucketListItem = this.addBucketListItem.bind(this);\n  }\n\n  addBucketListItem(item) {\n    this.props.updateProfile({ ...this.props.profile,\n      bucketList: [...this.props.profile.bucketList, item]\n    });\n  }\n\n  addRecommendation(rec) {\n    this.props.updateProfile({ ...this.props.profile,\n      recommendations: [...this.props.profile.recommendations, rec]\n    });\n  }\n\n  checktoken() {\n    let token = sessionStorage.getItem('tokenses');\n    let t = \"Bearer \" + token;\n    console.log(t);\n    var url1 = 'http://localhost:8000/profile';\n    var options = {\n      method: 'GET',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": t\n      }\n    };\n    fetch(url1, options).then(a => a.json()).then(a => {\n      if (a == \"403\" || a == \"401\") {\n        console.log(\"error\"); // history.push(\"/\");\n\n        window.location.href = \"/\";\n      }\n    });\n  }\n\n  render() {\n    const redirect = this.props.profile;\n\n    if (!redirect) {\n      alert(\"Please create a profile first\");\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/createprofile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 14\n      }, this);\n    }\n\n    this.checktoken();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Name: \", this.props.profile.firstName, \" \", this.props.profile.lastName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), this.props.profile.profilePicture && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: this.props.profile.profilePicture,\n        alt: \"Profile Picture\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), this.props.profile.bandname && /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Band/Artist: \", this.props.profile.bandname]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), this.props.profile.bio && /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: [\"About me: \", this.props.profile.bio]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), this.props.profile.id === this.props.userId && /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/editprofile\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Edit My Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this), this.props.profile.id === this.props.userId && /*#__PURE__*/_jsxDEV(AddRecommendation, {\n        addRecommendation: this.addRecommendation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), this.props.profile.recommendations.map(restaurant => /*#__PURE__*/_jsxDEV(RestaurantListing, {\n        restaurant: restaurant,\n        addBucketListItem: this.addBucketListItem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this)), this.props.profile.bucketList && this.props.profile.bucketList.length > 0 && /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Bucket List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), this.props.profile.bucketList.map(item => /*#__PURE__*/_jsxDEV(RestaurantListing, {\n        restaurant: item,\n        addBucketListItem: this.addBucketListItem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["C:/Users/Kevin/Documents/Projects/CAPSTONE-CLIENT-COPY/src/Profile.js"],"names":["React","BrowserRouter","Router","Switch","Route","Link","Redirect","AddRecommendation","RestaurantListing","Profile","Component","constructor","props","addRecommendation","bind","addBucketListItem","item","updateProfile","profile","bucketList","rec","recommendations","checktoken","token","sessionStorage","getItem","t","console","log","url1","options","method","headers","fetch","then","a","json","window","location","href","render","redirect","alert","firstName","lastName","profilePicture","bandname","bio","id","userId","map","restaurant","length"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport AddRecommendation from \"./AddRecommendation\";\r\nimport RestaurantListing from \"./RestaurantListing\";\r\n\r\n\r\n\r\nclass Profile extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.addRecommendation = this.addRecommendation.bind(this);\r\n    this.addBucketListItem = this.addBucketListItem.bind(this);\r\n  }\r\n\r\n  addBucketListItem(item) {\r\n    \r\n    this.props.updateProfile({\r\n      ...this.props.profile,\r\n      bucketList: [...this.props.profile.bucketList, item],\r\n    });\r\n  }\r\n\r\n  addRecommendation(rec) {\r\n    this.props.updateProfile({\r\n      ...this.props.profile,\r\n      recommendations: [...this.props.profile.recommendations, rec],\r\n    });\r\n  }\r\n\r\n  \r\nchecktoken(){\r\n  let token = sessionStorage.getItem('tokenses');\r\n  let t=\"Bearer \"+token;\r\n  console.log(t);\r\n  var url1 ='http://localhost:8000/profile';\r\n  var options = {\r\n    method: 'GET',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\", \"Authorization\":t\r\n    },\r\n          \r\n    }\r\n\r\n  fetch(url1, options).then(a=>a.json()).then(a=>{\r\n    if(a==\"403\"|| a==\"401\"){\r\n      console.log(\"error\");\r\n      // history.push(\"/\");\r\n      window.location.href=\"/\";\r\n    }  })\r\n}\r\n \r\n\r\n  render() {\r\n    const redirect = this.props.profile;\r\n\r\n    if (!redirect) {\r\n      alert(\"Please create a profile first\");\r\n      return <Redirect to=\"/createprofile\" />;\r\n    }\r\nthis.checktoken();\r\n    return (\r\n      <div>\r\n        <h1>\r\n          Name: {this.props.profile.firstName} {this.props.profile.lastName}\r\n        </h1>\r\n        {this.props.profile.profilePicture &&\r\n        <img\r\n          src={this.props.profile.profilePicture}\r\n          alt=\"Profile Picture\"\r\n        ></img>}\r\n\r\n        {this.props.profile.bandname &&\r\n        <h3>Band/Artist: {this.props.profile.bandname}</h3>}\r\n\r\n        {this.props.profile.bio &&\r\n        <h5>About me: {this.props.profile.bio}</h5>}\r\n\r\n        {this.props.profile.id === this.props.userId && (\r\n          <Link to=\"/editprofile\">\r\n            <button>Edit My Profile</button>\r\n          </Link>\r\n        )}\r\n        {this.props.profile.id === this.props.userId && (\r\n          <AddRecommendation addRecommendation={this.addRecommendation} />\r\n        )}\r\n        {this.props.profile.recommendations.map((restaurant) => (\r\n          <RestaurantListing\r\n            restaurant={restaurant}\r\n            addBucketListItem={this.addBucketListItem}\r\n          />\r\n        ))}\r\n       {this.props.profile.bucketList && this.props.profile.bucketList.length > 0 && \r\n        <h3>Bucket List</h3>}\r\n        {this.props.profile.bucketList.map((item) => (\r\n          <RestaurantListing\r\n            restaurant={item}\r\n            addBucketListItem={this.addBucketListItem}\r\n          />\r\n  \r\n        \r\n        ))\r\n        }</div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Profile;"]},"metadata":{},"sourceType":"module"}